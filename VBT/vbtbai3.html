<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VBT Tin h·ªçc 4 - B√†i 3: Th√¥ng tin tr√™n trang web (C√≥ ki·ªÉm tra)</title>
    <style>
        /* --- C·∫§U TR√öC CHUNG --- */
        body { font-family: "Segoe UI", Arial, sans-serif; background-color: #f0f2f5; margin: 0; padding: 20px; color: #333; user-select: none; }
        .page { background-color: #fff; max-width: 900px; margin: 0 auto; padding: 40px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border-radius: 8px; }
        
        h1 { font-size: 18pt; font-weight: bold; text-transform: uppercase; text-align: center; color: #2c3e50; margin: 10px 0; }
        h2 { font-size: 14pt; font-weight: bold; color: #2980b9; margin-top: 20px; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        
        /* Khung c√¢u h·ªèi */
        .question-block { margin-bottom: 30px; border: 1px solid transparent; border-bottom: 1px dashed #ccc; padding: 15px; border-radius: 8px; transition: all 0.3s; }
        .question-title { font-weight: bold; font-size: 12pt; margin-bottom: 15px; color: #0056b3; line-height: 1.5; }
        
        /* Style c·∫£nh b√°o ch∆∞a l√†m xong */
        .incomplete-warning {
            background-color: #fff5f5;
            border: 2px solid #e74c3c !important;
            box-shadow: 0 0 10px rgba(231, 76, 60, 0.2);
        }

        /* --- B·∫¢NG (TABLE) --- */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; background: white; font-size: 11pt; }
        th, td { border: 1px solid #999; padding: 8px; text-align: left; vertical-align: middle; }
        th { text-align: center; background-color: #e8f4f8; font-weight: bold; color: #2c3e50; }
        .center-text { text-align: center; }
        
        input[type="checkbox"], input[type="radio"] { transform: scale(1.3); cursor: pointer; accent-color: #0056b3; margin-right: 5px; }
        label { cursor: pointer; }

        /* --- DRAG & DROP (C√ÇU 1) --- */
        .drag-source-area {
            background-color: #f8f9fa; border: 2px dashed #bdc3c7; border-radius: 8px;
            padding: 15px; margin-bottom: 20px; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;
        }
        .match-item {
            background-color: #fff; border: 1px solid #3498db; border-radius: 4px; padding: 8px 12px;
            cursor: grab; font-size: 11pt; box-shadow: 2px 2px 4px rgba(0,0,0,0.1); max-width: 45%;
        }
        .match-row { display: flex; align-items: stretch; margin-bottom: 10px; }
        .match-left { width: 30%; background: #eee; padding: 10px; display: flex; align-items: center; font-weight: bold; border: 1px solid #ccc; border-right: none; }
        .match-drop-zone { flex: 1; border: 2px dashed #bbb; background: #fff; padding: 5px; min-height: 50px; display: flex; align-items: center; }

        /* --- H√åNH ·∫¢NH & CHECKBOX (C√ÇU 3) --- */
        .img-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 10px; }
        .img-box { border: 1px solid #ccc; padding: 15px; text-align: center; background: #fafafa; border-radius: 8px; }
        
        .web-img {
            width: 100%; height: 200px; object-fit: contain; border: 1px solid #ddd; margin-bottom: 10px; background-color: #fff;
        }
        .web-img:before {
            content: "‚ö†Ô∏è Ch∆∞a c√≥ ·∫£nh. H√£y copy file ·∫£nh v√†o c√πng th∆∞ m·ª•c.";
            display: block; width: 100%; height: 100%; background: #f0f0f0; color: red; display: flex; align-items: center; justify-content: center; text-align: center; font-size: 0.9em; padding: 10px; box-sizing: border-box;
        }

        .checkbox-group {
            display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 10px; text-align: left;
        }
        .checkbox-item {
            background: #fff; padding: 5px 10px; border: 1px solid #ddd; border-radius: 15px; font-size: 10pt; white-space: nowrap;
        }
        .checkbox-item:hover { background: #eef; }

        /* --- K·∫æT QU·∫¢ --- */
        .correct-mark { color: red; font-weight: bold; margin-left: 5px; display: none; }
        .correction-overlay {
            color: red; font-weight: bold; font-size: 10pt; background: rgba(255,255,255,0.95);
            padding: 4px 8px; border: 1px solid red; display: none; margin-top: 5px; border-radius: 4px;
        }
        
        .controls { text-align: center; margin-top: 30px; }
        button { padding: 12px 30px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 12pt; }
        button:hover { background: #219150; }

        /* Ghi ch√∫ h∆∞·ªõng d·∫´n */
        .guide-box { background: #fff3cd; border: 1px solid #ffeeba; padding: 10px; color: #856404; margin-bottom: 20px; font-size: 0.95em; border-radius: 5px; }
    </style>
</head>
<body>

<div class="page">
       
    <h2 >CH·ª¶ ƒê·ªÄ B. M·∫†NG M√ÅY T√çNH V√Ä INTERNET</h2>
    <h1>B√ÄI 3: TH√îNG TIN TR√äN TRANG WEB</h1>
    <hr>

    <div class="question-block" id="q1">
        <div class="question-title">1. N·ªëi m·ªói lo·∫°i th√¥ng tin ·ªü c·ªôt b√™n tr√°i v·ªõi m·ªôt ƒë·∫∑c ƒëi·ªÉm ·ªü c·ªôt b√™n ph·∫£i cho ph√π h·ª£p. (K√©o th·∫£)</div>
        
        <div class="drag-source-area" id="source_q1" ondrop="drop(event)" ondragover="allowDrop(event)">
            <div class="match-item" draggable="true" ondragstart="drag(event)" id="m_a" data-val="a">a) C√≥ th·ªÉ bao g·ªìm c·∫£ th√¥ng tin d·∫°ng h√¨nh ·∫£nh, √¢m thanh v√† ch·ªØ.</div>
            <div class="match-item" draggable="true" ondragstart="drag(event)" id="m_b" data-val="b">b) Khi di chuy·ªÉn con tr·ªè chu·ªôt v√†o... s·∫Ω chuy·ªÉn th√†nh d·∫°ng üëÜ.</div>
            <div class="match-item" draggable="true" ondragstart="drag(event)" id="m_c" data-val="c">c) C√≥ th·ªÉ nghe ƒë∆∞·ª£c.</div>
            <div class="match-item" draggable="true" ondragstart="drag(event)" id="m_d" data-val="d">d) C√≥ th·ªÉ ƒë·ªçc ƒë∆∞·ª£c.</div>
            <div class="match-item" draggable="true" ondragstart="drag(event)" id="m_e" data-val="e">e) C√≥ th·ªÉ quan s√°t ƒë∆∞·ª£c.</div>
        </div>

        <div class="match-table">
            <div class="match-row"><div class="match-left">1. VƒÉn b·∫£n</div><div class="match-drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)" data-expect="d"></div></div>
            <div class="match-row"><div class="match-left">2. H√¨nh ·∫£nh</div><div class="match-drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)" data-expect="e"></div></div>
            <div class="match-row"><div class="match-left">3. √Çm thanh</div><div class="match-drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)" data-expect="c"></div></div>
            <div class="match-row"><div class="match-left">4. Video</div><div class="match-drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)" data-expect="a"></div></div>
            <div class="match-row"><div class="match-left">5. Si√™u li√™n k·∫øt</div><div class="match-drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)" data-expect="b"></div></div>
        </div>
    </div>

    <div class="question-block" id="q2">
        <div class="question-title">2. Khoanh tr√≤n v√†o ch·ªØ c√°i ƒë·∫∑t tr∆∞·ªõc ph√°t bi·ªÉu SAI.</div>
        <div style="margin-left: 20px; line-height: 1.8;">
            <label><input type="radio" name="q2" value="A"> A. Trang web c√≥ ch·ª©a th√¥ng tin d·∫°ng vƒÉn b·∫£n, h√¨nh ·∫£nh, √¢m thanh.</label><br>
            <label><input type="radio" name="q2" value="B"> B. Video l√† lo·∫°i th√¥ng tin tr√™n trang web c√≥ th·ªÉ bao g·ªìm c·∫£ vƒÉn b·∫£n (ch·ªØ), h√¨nh ·∫£nh, √¢m thanh.</label><br>
            <label data-correct="true"><input type="radio" name="q2" value="C"> C. Si√™u li√™n k·∫øt kh√¥ng ph·∫£i l√† m·ªôt lo·∫°i th√¥ng tin tr√™n trang web. <span class="correct-mark">‚úî</span></label><br>
            <label><input type="radio" name="q2" value="D"> D. Trang web c√≥ ch·ª©a si√™u li√™n k·∫øt g·ªçi l√† si√™u vƒÉn b·∫£n.</label>
        </div>
    </div>

    <div class="question-block" id="q3">
        <div class="question-title">3. T√≠ch ch·ªçn c√°c lo·∫°i th√¥ng tin c√≥ trong m·ªói h√¨nh d∆∞·ªõi ƒë√¢y.</div>
        
        <div class="img-grid">
            <div class="img-box" data-ans="vb,ha">
                <img src="image_0a2f1b.png" class="web-img" alt="H√¨nh 1a">
                <b>H√¨nh 1a.</b> Trang web v·ªÅ B·∫øn Nh√† R·ªìng<br>
                <div class="checkbox-group">
                    <label class="checkbox-item"><input type="checkbox" value="vb"> VƒÉn b·∫£n</label>
                    <label class="checkbox-item"><input type="checkbox" value="ha"> H√¨nh ·∫£nh</label>
                    <label class="checkbox-item"><input type="checkbox" value="at"> √Çm thanh</label>
                    <label class="checkbox-item"><input type="checkbox" value="vd"> Video</label>
                </div>
            </div>

            <div class="img-box" data-ans="vb,at">
                <img src="image_0a275b.png" class="web-img" alt="H√¨nh 1b">
                <b>H√¨nh 1b.</b> Trang web v·ªÅ b√†i Qu·ªëc ca<br>
                <div class="checkbox-group">
                    <label class="checkbox-item"><input type="checkbox" value="vb"> VƒÉn b·∫£n</label>
                    <label class="checkbox-item"><input type="checkbox" value="ha"> H√¨nh ·∫£nh</label>
                    <label class="checkbox-item"><input type="checkbox" value="at"> √Çm thanh</label>
                    <label class="checkbox-item"><input type="checkbox" value="vd"> Video</label>
                </div>
            </div>

            <div class="img-box" data-ans="vd">
                <img src="image_09cdba.png" class="web-img" alt="H√¨nh 1c">
                <b>H√¨nh 1c.</b> Trang web truy·ªán c·ªï t√≠ch<br>
                <div class="checkbox-group">
                    <label class="checkbox-item"><input type="checkbox" value="vb"> VƒÉn b·∫£n</label>
                    <label class="checkbox-item"><input type="checkbox" value="ha"> H√¨nh ·∫£nh</label>
                    <label class="checkbox-item"><input type="checkbox" value="at"> √Çm thanh</label>
                    <label class="checkbox-item"><input type="checkbox" value="vd"> Video</label>
                </div>
            </div>

            <div class="img-box" data-ans="vb,ha">
                <img src="image_09c9bb.jpg" class="web-img" alt="H√¨nh 1d">
                <b>H√¨nh 1d.</b> Trang web truy·ªán c·ªï t√≠ch<br>
                <div class="checkbox-group">
                    <label class="checkbox-item"><input type="checkbox" value="vb"> VƒÉn b·∫£n</label>
                    <label class="checkbox-item"><input type="checkbox" value="ha"> H√¨nh ·∫£nh</label>
                    <label class="checkbox-item"><input type="checkbox" value="at"> √Çm thanh</label>
                    <label class="checkbox-item"><input type="checkbox" value="vd"> Video</label>
                </div>
            </div>
        </div>
    </div>

    <div class="question-block" id="q4">
        <div class="question-title">4. ƒê√°nh d·∫•u X v√†o √¥ tr·ªëng ƒë·ªÉ ch·ªâ ra h·∫≠u qu·∫£ c√≥ th·ªÉ x·∫£y ra ƒë·ªëi v·ªõi m·ªói vi·ªác l√†m trong b·∫£ng d∆∞·ªõi ƒë√¢y.</div>
        <table>
            <tr>
                <th width="30%" rowspan="2">Vi·ªác l√†m</th>
                <th colspan="4">H·∫≠u qu·∫£ c√≥ th·ªÉ x·∫£y ra</th>
            </tr>
            <tr>
                <th>B·ªã s·ª£ h√£i, √°m ·∫£nh.</th>
                <th>Kh√¥ng an to√†n, r·ªßi ro.</th>
                <th>B·ªã l·ª£i d·ª•ng, d·ª• d·ªó...</th>
                <th>B·ªã l·∫•y c·∫Øp th√¥ng tin, h∆∞ h·ªèng m√°y t√≠nh.</th>
            </tr>
            <tr data-row="1">
                <td>Xem phim kinh d·ªã, phim ma.</td>
                <td class="center-text"><input type="checkbox" class="chk-a"><span class="correct-mark">‚úî</span></td>
                <td class="center-text"><input type="checkbox" class="chk-b"></td>
                <td class="center-text"><input type="checkbox" class="chk-c"></td>
                <td class="center-text"><input type="checkbox" class="chk-d"></td>
            </tr>
            <tr data-row="2">
                <td>Xem v√† l√†m theo h∆∞·ªõng d·∫´n th·ª±c hi·ªán nh·ªØng vi·ªác nguy hi·ªÉm.</td>
                <td class="center-text"><input type="checkbox" class="chk-a"></td>
                <td class="center-text"><input type="checkbox" class="chk-b"><span class="correct-mark">‚úî</span></td>
                <td class="center-text"><input type="checkbox" class="chk-c"></td>
                <td class="center-text"><input type="checkbox" class="chk-d"></td>
            </tr>
            <tr data-row="3">
                <td>Truy c·∫≠p v√†o trang web c√≥ n·ªôi dung kh√¥ng ph√π h·ª£p l·ª©a tu·ªïi.</td>
                <td class="center-text"><input type="checkbox" class="chk-a"><span class="correct-mark">‚úî</span></td>
                <td class="center-text"><input type="checkbox" class="chk-b"></td>
                <td class="center-text"><input type="checkbox" class="chk-c"></td>
                <td class="center-text"><input type="checkbox" class="chk-d"></td>
            </tr>
            <tr data-row="4">
                <td>Truy c·∫≠p v√†o trang web ƒë∆∞·ª£c t·∫°o ra v·ªõi m·ª•c ƒë√≠ch x·∫•u.</td>
                <td class="center-text"><input type="checkbox" class="chk-a"></td>
                <td class="center-text"><input type="checkbox" class="chk-b"></td>
                <td class="center-text"><input type="checkbox" class="chk-c"><span class="correct-mark">‚úî</span></td>
                <td class="center-text"><input type="checkbox" class="chk-d"><span class="correct-mark">‚úî</span></td>
            </tr>
        </table>
    </div>

    <div class="question-block" id="q5">
        <div class="question-title">5. ƒê√°nh d·∫•u X v√†o √¥ tr·ªëng ƒë·ªÉ ch·ªâ ra vi·ªác n√™n l√†m ho·∫∑c kh√¥ng n√™n l√†m.</div>
        <table>
            <tr>
                <th>Vi·ªác</th>
                <th width="12%" class="center-text">N√™n l√†m</th>
                <th width="15%" class="center-text">Kh√¥ng n√™n l√†m</th>
            </tr>
            <tr data-nen="true">
                <td>Truy c·∫≠p trang web <b>truyencotich.vn</b> ƒë·ªÉ ƒë·ªçc c√°c c√¢u truy·ªán c·ªï t√≠ch Vi·ªát Nam.</td>
                <td class="center-text"><input type="checkbox" class="chk-nen"><span class="correct-mark">‚úî</span></td>
                <td class="center-text"><input type="checkbox" class="chk-ko"></td>
            </tr>
            <tr data-nen="false">
                <td>L√†m theo c√°c video th·ª≠ th√°ch ƒÉn cay, c·ªë ƒÉn th·∫≠t nhi·ªÅu tr√™n trang web <b>youtube.com</b>.</td>
                <td class="center-text"><input type="checkbox" class="chk-nen"></td>
                <td class="center-text"><input type="checkbox" class="chk-ko"><span class="correct-mark">‚úî</span></td>
            </tr>
            <tr data-nen="true">
                <td>Xem c√°c video ca nh·∫°c thi·∫øu nhi v√†o th·ªùi gian ngh·ªâ ng∆°i.</td>
                <td class="center-text"><input type="checkbox" class="chk-nen"><span class="correct-mark">‚úî</span></td>
                <td class="center-text"><input type="checkbox" class="chk-ko"></td>
            </tr>
            <tr data-nen="false">
                <td>Xem v√† l√†m theo c√°c video v·ªÅ th·ªÉ d·ª•c aerobic... khi kh√¥ng c√≥ s·ª± h∆∞·ªõng d·∫´n c·ªßa ng∆∞·ªùi l·ªõn.</td>
                <td class="center-text"><input type="checkbox" class="chk-nen"></td>
                <td class="center-text"><input type="checkbox" class="chk-ko"><span class="correct-mark">‚úî</span></td>
            </tr>
            <tr data-nen="false">
                <td>ƒêi·ªÅn ƒë·ªãa ch·ªâ nh√†, s·ªë ƒëi·ªán tho·∫°i c·ªßa cha, m·∫π ƒë·ªÉ nh·∫≠n qu√† theo l·ªùi m·ªùi tr√™n trang web.</td>
                <td class="center-text"><input type="checkbox" class="chk-nen"></td>
                <td class="center-text"><input type="checkbox" class="chk-ko"><span class="correct-mark">‚úî</span></td>
            </tr>
            <tr data-nen="false">
                <td>Truy c·∫≠p v√†o m·ªôt trang web m√† kh√¥ng c√≥ s·ª± h∆∞·ªõng d·∫´n, h·ªó tr·ª£ c·ªßa ng∆∞·ªùi l·ªõn ƒë√°ng tin c·∫≠y.</td>
                <td class="center-text"><input type="checkbox" class="chk-nen"></td>
                <td class="center-text"><input type="checkbox" class="chk-ko"><span class="correct-mark">‚úî</span></td>
            </tr>
            <tr data-nen="false">
                <td>Xem v√† l√†m theo c√°c video th·ªÉ thao m·∫°o hi·ªÉm tr√™n trang web <b>youtube.com</b>.</td>
                <td class="center-text"><input type="checkbox" class="chk-nen"></td>
                <td class="center-text"><input type="checkbox" class="chk-ko"><span class="correct-mark">‚úî</span></td>
            </tr>
            <tr data-nen="true">
                <td>G·∫•p gi·∫•y ƒë·ªÉ l√†m ƒë·ªì d√πng theo c√°c video h∆∞·ªõng d·∫´n tr√™n trang web <b>youtube.com</b>.</td>
                <td class="center-text"><input type="checkbox" class="chk-nen"><span class="correct-mark">‚úî</span></td>
                <td class="center-text"><input type="checkbox" class="chk-ko"></td>
            </tr>
        </table>
    </div>

    <div class="controls">
        <button onclick="chamDiem()">N·ªòP B√ÄI & KI·ªÇM TRA</button>
    </div>
</div>

<script>
    /* --- DRAG & DROP LOGIC --- */
    function allowDrop(ev) { ev.preventDefault(); }
    function drag(ev) { ev.dataTransfer.setData("text", ev.target.id); ev.target.style.opacity = "0.5"; }
    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        var draggedElement = document.getElementById(data);
        if(draggedElement) draggedElement.style.opacity = "1";
        
        let target = ev.target.closest('.match-drop-zone, .drag-source-area');
        if (target) {
            if (target.classList.contains("match-drop-zone")) {
                if (target.children.length > 0) {
                    document.getElementById('source_q1').appendChild(target.children[0]);
                }
                let ov = target.querySelector('.correction-overlay');
                if(ov) ov.remove();
            }
            target.appendChild(draggedElement);
        }
    }

    /* --- VALIDATION FUNCTION --- */
    function validateCompletion() {
        // Remove old warnings
        document.querySelectorAll('.incomplete-warning').forEach(el => el.classList.remove('incomplete-warning'));
        
        let missing = [];

        // Check Q1: Drag & Drop (5 zones)
        const q1Zones = document.querySelectorAll('.match-drop-zone');
        let q1Filled = 0;
        q1Zones.forEach(z => { if(z.children.length > 0) q1Filled++; });
        if(q1Filled < 5) missing.push("q1");

        // Check Q2: Radio (1 answer)
        const q2Radio = document.querySelector('input[name="q2"]:checked');
        if(!q2Radio) missing.push("q2");

        // Check Q3: Checkbox per Image (4 images, at least 1 check each)
        const q3Boxes = document.querySelectorAll('.img-box');
        let q3Incomplete = false;
        q3Boxes.forEach(box => {
            if(box.querySelectorAll('input:checked').length === 0) q3Incomplete = true;
        });
        if(q3Incomplete) missing.push("q3");

        // Check Q4: Table Rows (4 rows, at least 1 check each)
        const q4Rows = document.querySelectorAll('#q4 tr[data-row]');
        let q4Incomplete = false;
        q4Rows.forEach(row => {
            if(row.querySelectorAll('input:checked').length === 0) q4Incomplete = true;
        });
        if(q4Incomplete) missing.push("q4");

        // Check Q5: Table Rows (8 rows, at least 1 check each)
        const q5Rows = document.querySelectorAll('#q5 tr[data-nen]');
        let q5Incomplete = false;
        q5Rows.forEach(row => {
            if(row.querySelectorAll('input:checked').length === 0) q5Incomplete = true;
        });
        if(q5Incomplete) missing.push("q5");

        return missing;
    }

    /* --- GRADING FUNCTION --- */
    function chamDiem() {
        // 1. Validate first
        let missingIDs = validateCompletion();
        if(missingIDs.length > 0) {
            alert("B·∫°n ch∆∞a ho√†n th√†nh h·∫øt c√°c c√¢u h·ªèi. Vui l√≤ng ki·ªÉm tra l·∫°i c√°c ph·∫ßn ƒë∆∞·ª£c t√¥ ƒë·ªè.");
            
            // Highlight missing blocks
            missingIDs.forEach(id => {
                document.getElementById(id).classList.add('incomplete-warning');
            });

            // Scroll to first missing
            document.getElementById(missingIDs[0]).scrollIntoView({behavior: 'smooth', block: 'center'});
            return; // Stop here
        }

        // 2. Grade if valid
        // C√ÇU 1: K√âO TH·∫¢
        document.querySelectorAll('.match-drop-zone').forEach(zone => {
            let expect = zone.getAttribute('data-expect');
            let isCorrect = false;
            if(zone.children.length > 0 && zone.children[0].getAttribute('data-val') === expect) {
                isCorrect = true;
            }
            if(isCorrect) {
                zone.style.border = "2px solid #27ae60";
                let ov = zone.querySelector('.correction-overlay'); if(ov) ov.remove();
            } else {
                zone.style.border = "2px solid #c0392b";
                let oldOv = zone.querySelector('.correction-overlay'); if(!oldOv) {
                    let overlay = document.createElement('div');
                    overlay.className = 'correction-overlay';
                    overlay.innerText = "ƒê√°p √°n: " + expect + ")";
                    overlay.style.display = 'inline-block';
                    zone.appendChild(overlay);
                }
            }
        });

        // C√ÇU 2: RADIO
        document.querySelectorAll('label[data-correct="true"] input[type="radio"]').forEach(r => {
            r.parentElement.querySelector('.correct-mark').style.display = 'inline';
        });

        // C√ÇU 3: CHECKBOX
        document.querySelectorAll('.img-box').forEach(box => {
            let correctArr = box.getAttribute('data-ans').split(',');
            let inputs = box.querySelectorAll('input[type="checkbox"]');
            let isBoxCorrect = true;
            let userValues = [];

            // Reset style
            box.style.border = "1px solid #ccc";
            let oldOv = box.querySelector('.correction-overlay');
            if(oldOv) oldOv.remove();

            // Ki·ªÉm tra t·ª´ng √¥
            inputs.forEach(chk => {
                if(chk.checked) {
                    userValues.push(chk.value);
                    if(!correctArr.includes(chk.value)) isBoxCorrect = false;
                } else {
                    if(correctArr.includes(chk.value)) isBoxCorrect = false;
                }
            });
            // N·∫øu kh√¥ng ch·ªçn g√¨ c≈©ng sai
            if(userValues.length === 0) isBoxCorrect = false;

            if(isBoxCorrect) {
                box.style.border = "2px solid #27ae60";
            } else {
                box.style.border = "2px solid #c0392b";
                let ansText = correctArr.map(code => {
                    if(code==='vb') return 'VƒÉn b·∫£n';
                    if(code==='ha') return 'H√¨nh ·∫£nh';
                    if(code==='at') return '√Çm thanh';
                    if(code==='vd') return 'Video';
                }).join(', ');

                let overlay = document.createElement('div');
                overlay.className = 'correction-overlay';
                overlay.innerText = "ƒê√°p √°n ƒë√∫ng: " + ansText;
                overlay.style.display = 'block';
                box.appendChild(overlay);
            }
        });

        // C√ÇU 4: B·∫¢NG H·∫¨U QU·∫¢
        let q4Key = {
            '1': ['.chk-a'],
            '2': ['.chk-b'],
            '3': ['.chk-a'], 
            '4': ['.chk-c', '.chk-d']
        };

        for (let rowId in q4Key) {
            let selectors = q4Key[rowId];
            let row = document.querySelector(`tr[data-row="${rowId}"]`);
            selectors.forEach(sel => {
                let mark = row.querySelector(sel).nextElementSibling;
                if(mark) mark.style.display = 'inline';
            });
        }

        // C√ÇU 5: N√äN / KH√îNG N√äN
        document.querySelectorAll('#q5 tr[data-nen]').forEach(row => {
            let isNen = row.getAttribute('data-nen') === "true";
            let selector = isNen ? '.chk-nen' : '.chk-ko';
            let mark = row.querySelector(selector).nextElementSibling;
            if(mark) mark.style.display = 'inline';
        });

        alert("ƒê√£ ch·∫•m xong! H√£y xem l·∫°i k·∫øt qu·∫£ chi ti·∫øt.");
    }
</script>

</body>
</html>